<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>kubernetes-handson on Keep calm and write something</title><link>https://cychong47.github.io/series/kubernetes-handson/</link><description>Recent content in kubernetes-handson on Keep calm and write something</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Fri, 09 Oct 2020 02:00:00 +0900</lastBuildDate><atom:link href="https://cychong47.github.io/series/kubernetes-handson/index.xml" rel="self" type="application/rss+xml"/><item><title>주기적으로 실행되는 앱은 CronJob으로</title><link>https://cychong47.github.io/post/2020/2020-10-09-cronjob-in-kubernetes/</link><pubDate>Fri, 09 Oct 2020 02:00:00 +0900</pubDate><guid>https://cychong47.github.io/post/2020/2020-10-09-cronjob-in-kubernetes/</guid><description>만일 job을 일정 주기 혹은 특정 시간에 실행시키고 자 하는 경우 CronJob resource를 만들어 사용하면 된다.
Job과 CronJob간의 관계는? CronJob에 대한 설명에 따르면 CronJob정의에 기술한 특정 시간이 되면 CronJob이 Job을 실행한다고. 그리고 그 Job이 Pod를 실행한다.
그럼 Job을 위한 resource 정의와 CronJob을 위한 resource 정의를 각각 정의해야 하나? 그렇지는 않은 듯. CronJob의 정의 파일을 보면 JobTemplate 항목이 Job에서의 Template과 유사하게 container spec 등을 가지고 있다. 물론 CronJob 에서만 유효한 schedule spec 등을 추가로 가지고 있긴 하지만.</description></item><item><title>일회성 앱은 Deployment가 아닌 Job으로</title><link>https://cychong47.github.io/post/2020/2020-10-09-job-instead-of-deployment/</link><pubDate>Fri, 09 Oct 2020 01:00:00 +0900</pubDate><guid>https://cychong47.github.io/post/2020/2020-10-09-job-instead-of-deployment/</guid><description>mysqldump vs. mysql Cronjob을 사용하는 mysqldump chart와 Deployment를 사용하는 mysql의 chart를 비교해 보면 다음과 같다. mysqldump의 경우 deployment.yaml 대신 job.yaml 파일과 cron.yaml 파일이 있음을 알 수 있다. 그 외 configmap.yaml은 파일 이름만 다를 뿐 두 개 chart에서 모두 사용하고 있으므로 차이점은 아니고.
cychong@mini1:~/work/Helm/reference/official-helm-charts/stable/mysqldump/templates$ ls -al total 44 drwxrwxr-x 2 cychong cychong 4096 Oct 9 09:12 . drwxrwxr-x 4 cychong cychong 4096 Sep 20 2019 .. -rw-rw-r-- 1 cychong cychong 1934 Sep 20 2019 NOTES.</description></item></channel></rss>